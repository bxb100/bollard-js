{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.11.1/.schema/devbox.schema.json",
  "packages": {
    "nodejs": "18",
    "rustup": "latest",
    "pnpm": "9.15.0",
    "libiconv": "latest",
    "darwin.apple_sdk.frameworks.Security": {
      "platforms": [
        "x86_64-darwin",
        "aarch64-darwin"
      ]
    }
  },
  "env": {
    "DEVBOX_COREPACK_ENABLED": "true",
    "PROJECT_DIR": "$PWD"
  },
  "shell": {
    "init_hook": [
      ". conf/set-env.sh",
      "rustup default stable",
      "cargo fetch",
      "pnpm install",
      "direnv allow"
    ],
    "scripts": {
      "format": "pnpm format && cargo fmt",
      "test": "pnpm test",
      "build": "pnpm build",
      "dev": "pnpm build:debug",
      "pre-commit": "prefligit run --all-files"
    }
  }
}
